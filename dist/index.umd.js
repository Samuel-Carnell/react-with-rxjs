!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define(["exports","react","rxjs","rxjs/operators"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self)["react-with-rxjs"]={},e.react,e.rxjs,e.operators)}(this,(function(e,r,t,n){"use strict";function s(e,r,t){r.length!==e.length&&function(e,...r){"development"===process.env.NODE_ENV&&console.error(e,r)}("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s",t,`[${e.join(", ")}]`,`[${r.join(", ")}]`);for(let t=0;t<e.length&&t<r.length;t++)if(!Object.is(e[t],r[t]))return!0;return!1}function o(e,t="useHasInputChanged"){const n=r.useRef(e),o=s(n.current,e,t);return r.useEffect((()=>{n.current=e})),o}function u(e,t,n="useFactory"){const s=r.useRef(void 0),u=o(t,n),a=void 0===s.current||u?e():s.current;return r.useEffect((()=>{s.current=a})),a}function a(e){return"function"==typeof e}function i(e,t){if(!a(e))throw new TypeError(`${e} is not a function. For argument subscriptionFactory in useSubscription`);if(!Array.isArray(t))throw new TypeError(`${t} is not an Array. For argument dependencies in useSubscription`);r.useLayoutEffect((()=>{const r=e();return()=>{r.closed||r.unsubscribe()}}),t)}function c(e){const s=u((()=>new t.Subject),[],"useStateObservable");r.useLayoutEffect((()=>()=>s.complete()),[]);const o=r.useCallback((e=>{const r=e;s.next(r)}),[s]),c=u((()=>function(e,r){const s=a(r)?r():r,o=e.pipe(n.startWith(s),n.scan(((e,r)=>a(r)?r(e):r)),n.distinctUntilChanged(Object.is));return t.connectable(o,{connector:()=>new t.ReplaySubject(1),resetOnDisconnect:!1})}(s,e)),[s],"useStateObservable");return i((()=>c.connect()),[c]),[c,o]}e.useEventObservable=function(){const e=u((()=>new t.Subject),[],"useEventObservable");r.useLayoutEffect((()=>()=>e.complete()),[e]);const n=r.useCallback((r=>e.next(r)),[e]);return[u((()=>e.asObservable()),[],"useEventObservable"),n]},e.useIsComplete=function(e){if(!t.isObservable(e))throw new TypeError(`${e} is not an Observable. For return value of argument observable in useIsComplete`);const n=function(){const[e,t]=r.useState(void 0);if(void 0!==e)throw e;return t}(),[s,u]=r.useState(!1),a=o([e],"useIsComplete");return r.useLayoutEffect((()=>{a&&u(!1)}),[a]),i((()=>e.subscribe({complete(){u(!0)},error(e){n(e)}})),[e]),s},e.useObservable=function(e,r=[]){if(!a(e))throw new TypeError(`${e} is not a function. For argument observableFactory in useObservable`);if(!Array.isArray(r))throw new TypeError(`${r} is not an Array. For argument dependencies in useObservable`);const n=u(e,r,"useObservable");if(!t.isObservable(n))throw new TypeError(`${n} is not an Observable. For return value of argument observableFactory in useObservable`);return n},e.useObservableOf=function(e){const n=u((()=>new t.BehaviorSubject(e)),[],"useObservableOf"),s=o([e],"useObservableOf");return r.useEffect((()=>{s&&n.next(e)})),u((()=>n.asObservable()),[n],"useObservableOf")},e.useState$=c,e.useStateObservable=c,e.useSubscription=i,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.js.map
